<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">{{ title }}</h4>
    <button
      type="button"
      class="close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"
    >
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="formGroup" (ngSubmit)="save()">
      <div class="row">
        <div class="col-6">
          <div class="form-group">
            <label>Họ và tên người đặt</label>
            <input
              type="text"
              name=""
              class="form-control"
              formControlName="nameUser"
              id="nameUser"
            />
          </div>

          <div class="form-group">
            <label>Số điện thoại</label>
            <input
              type="text"
              name=""
              class="form-control"
              formControlName="telephoneNumber"
              id="telephoneNumber"
            />
          </div>
          <div class="form-group">
            <label>Email</label>
            <input
              type="text"
              name=""
              class="form-control"
              formControlName="email"
              id="email"
            />
          </div>
          <div class="form-group">
            <label>Tổng tiền ( VNĐ )</label>
            <input
              type="text"
              name=""
              class="form-control"
              formControlName="totalPrice"
              id="totalPrice"
            />
          </div>
        </div>
        <div class="col-6">
          <div class="form-group">
            <label>Ngày đặt</label>
            <input
              type="text"
              name=""
              class="form-control"
              formControlName="bookingDate"
              id="bookingDate"
            />
          </div>

          <div class="form-group">
            <label>Ngày bắt đầu thuê</label>
            <input
              type="text"
              name=""
              class="form-control"
              formControlName="startDate"
              id="startDate"
            />
          </div>


          <div class="form-group">
            <label>Ngày trả</label>
            <input
              type="text"
              name=""
              class="form-control"
              formControlName="endDate"
              id="endDate"
            />
          </div>
          <table style="width: 100%; margin-top: 15px">
            <tr *ngIf="listService.length !== 0">
              <td><label>Danh sách dịch vụ muốn sử dụng </label></td>
            </tr>
            <tr
              *ngFor="
                      let service of listService  | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize;
                      let i = index
                    ">
              <td><label>- {{service.name}}, giá {{service.price}}, thời gian sử dụng {{service.times}}</label></td>
            </tr>
          </table>
          <div class="col-12" style="display: flex; justify-content: center;align-items: center">
            <ngb-pagination *ngIf="listService.length > 2"
                            [ellipses]="true" [rotate]="true"
                            [boundaryLinks]="true" [(page)]="page"
                            [pageSize]="pageSize"
                            [collectionSize]="this.listService.length"></ngb-pagination>
          </div>
        </div>
      </div>
      <div class="form-group" style="display:inline" *ngIf="!isInfo">
        <label for="status">Trạng thái: </label>
        <input type="checkbox" name="status" formControlName="status" id="status"/>
        <label class="status"
               style="background-color: green; color: #fff;text-align: center; border-radius: 2px;vertical-align: middle;"
               for="status" *ngIf="formGroup.controls.status.value">Xác nhận</label>
        <label class="status"
               style="background-color: red;color:#fff; ;text-align: center; border-radius: 2px;vertical-align: middle;"
               for="status" *ngIf="!formGroup.controls.status.value">Hủy</label>
      </div>
      <div class="form-group" align="center">
        <button
          [hidden]="checkButton"
          type="submit"
          class="btn btn-success"
          style="width: 100px"
          *ngIf="isEdit || isAdd"
        >
          Lưu
        </button>
        <button *ngIf="model.status == 'Đã thuê thành công'" class="btn btn-warning" style="margin-left: 20px"
                (click)="PrintElem('pdf')">Xuất hóa đơn
        </button>
        <button
          class="btn btn-danger"
          style="width: 100px; margin-left: 20px"
          (click)="modal.dismiss('Cross click')"
        >
          Thoát
        </button>
      </div>
    </form>
  </div>

  <div id="pdf" [hidden]="true">
    <div class="in-bao-gia-container">
      <div class="in-bao-gia-header">
        <div class="in-bao-gia-header-left"><img src="../../../../assets/static/img/logo.png"/></div>
        <div class="in-bao-gia-header-right">
          <p class="ten-cong-ty">CÔNG TY CHUYÊN CUNG CẤP DỊCH VỤ HOMESTAY OGANI</p>
          <p>Trụ sở chính: Đồng Mạc - Tiên Hội - Đại Từ - Thái Nguyên</p>
          <p>Số nhà 4 ngách 34 ngõ 27 Lạc Long Quân - Nghĩa Đô - Cầu giấy - Hà Nội</p>
          <p>Hotline: 0396355470 * Website: www.ogani.vn</p>
        </div>
      </div>
      <div class="in-bao-gia-title">HÓA ĐƠN ĐẶT THUÊ HOMESTAY VÀ DỊCH VỤ</div>
      <div class="date-currency">
        <p>Ngày báo giá: <span id="price_time">{{currentDate | date: 'dd/MM/yyyy HH:mm:ss'}}</span></p>
        <p>Đơn vị tính: <span class="currency">VNĐ</span></p>
      </div>
      <div class="in-bao-gia-title"><h3>HomeStay</h3></div>
      <table class="list_table">
        <tbody>
        <tr style="white-space: nowrap;background-color: #f5f5f5;">
          <td style="text-align: center"><strong>Thông tin HomeStay</strong></td>
          <td style="text-align: center"><strong>Ngày nhận HomeStay</strong></td>
          <td style="text-align: center"><strong>Ngày trả HomeStay</strong></td>
          <td style="text-align: center"><strong>Giảm giá từ chủ nhà</strong></td>
          <td style="text-align: center; width: 200px"><strong>Giá thuê</strong></td>
          <td style="text-align: center"><strong>Thành tiền</strong></td>
        </tr> <!--  -->
        <tr valign="middle">
          <td>- Tên HomeStay: {{model.houseBill.name}} <br> - Địa chỉ: {{model.houseBill.address}} <br> - Thể
            loại: {{model.houseBill.category.name}}
            <br> - Số lượng phòng: {{model.houseBill.numberRoom}}</td>
          <td style="text-align: center">{{model.startDate | date:'dd/MM/yyyy' }}</td>
          <td style="text-align: center">{{model.endDate | date:'dd/MM/yyyy' }}</td>
          <td style="text-align: center"> {{model.houseBill.discount}}%</td>
          <td style="text-align: center">{{model.houseBill.price}} VNĐ / Ngày</td>
          <td style="text-align: center">
            {{(model.houseBill.price)}}
          </td>
        </tr>
        <tr>
          <td colspan="4"></td>
          <td style="text-align: center" colspan="-1"><strong>Tổng tiền</strong></td>
          <td><strong style="color: red; text-align: center">{{(priceHomeStay)}}đ</strong>
          </td>
        </tr>
        </tbody>
      </table>
      <div *ngIf="model.service" class="in-bao-gia-title"><h3>Dịch vụ</h3></div>
      <table class="list_table" *ngIf="model.service">
        <tbody>
        <tr style="white-space: nowrap;background-color: #f5f5f5;">
          <td style="text-align: center"><strong>STT</strong></td>
          <td style="text-align: center"><strong>Tên dịch vụ</strong></td>
          <td style="text-align: center"><strong>Giá</strong></td>
        </tr>
        <tr *ngFor="let service of model.service;let i = index">
          <td style="text-align: center">
            {{i + 1}}
          </td>
          <td style="text-align: center">
            {{service.name}}
          </td>
          <td style="text-align: center">
            {{service.price}}
          </td>
        </tr>
        <tr>
          <td style="text-align: center" colspan="1"></td>
          <td style="text-align: center" colspan="-1"><strong>Tổng tiền</strong></td>
          <td style="text-align: center"><strong
            style="color: red;">{{priceService}}đ</strong></td>
        </tr>
        </tbody>
      </table>

      <div class="in-bao-gia-footer">
        <p *ngIf="model.voucher">Bạn sử dụng voucher: {{model.voucher}}</p>
        <p *ngIf="!model.voucher">Bạn không sử dụng vocher </p>
        <h3 style="color: red; text-align: center">Tổng tiền cần phải thanh toán là: {{model.totalPrice}}đ</h3>
        <p><i class="fas fa-exclamation-circle"></i> Quý khách lưu ý: Khách hàng kiểm tra kỹ hóa đơn trước khi thanh
          toán, xin cảm ơn !</p>
      </div>
      <div class="in-bao-gia-footer center">
        <p>Để biết thêm chi tiết, vui lòng liên hệ:</p>
        <p>Hotline: 0396355470 (8h00-21h30 hàng ngày)</p>
        <p>Email: <a href="mailto:haidevutc@gmail.com">haidevutc@gmail.com</a></p>
        <p>OGANI CHÂN THÀNH CẢM ƠN QUÝ KHÁCH HÀNG!</p>
      </div>
    </div>
  </div>
</ng-template>
